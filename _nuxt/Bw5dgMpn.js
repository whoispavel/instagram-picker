import{u as b}from"./BBDL8Q0A.js";import{_ as v,o as s,c as i,b as e,a as c,t as m,F as h,r as k,n as d,l as g,w as _,e as f}from"./rUxWeFGW.js";const y={name:"ebook-details",props:["ebook"],data(){return{current:null,timeout:null,loading:!1,success:!1,form:{full_name:"",email:""}}},mounted(){setTimeout(()=>{this.startAnimation(0)},200)},beforeUnmount(){clearTimeout(this.timeout)},methods:{sendEbookToUser:async function(){this.loading=!0,await this.storeData(),await this.sendMailToUser(),this.loading=!1,this.success=!0,setTimeout(()=>{this.success=!1},3500)},storeData:async function(){let l={full_name:this.form.full_name,mail:this.form.email,ebook:this.ebook.ebook_link,sources:"ebook-download"};await b("https://apiv3.wask.co/v1/web-site/ebook",{method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded",token:"wask.token"},body:JSON.stringify(l)},"$WxUsAZiCxg")},sendMailToUser:async function(){this.form.ebook=this.ebook.ebook_link,await b("https://mailapi.wask.co/send",{method:"post",body:{to:this.form.email,type:"ebook",data:{...this.form}}},"$2wK1zoYYEZ"),this.form.email="",this.form.full_name="",this.form.ebook=""},startAnimation:function(l){l!==this.current&&(clearTimeout(this.timeout),l===2?this.current=0:this.current=l,this.timeout=setTimeout(()=>{this.startAnimation(this.current+1)},5e3))}}},w={class:"section section-white ebook-details-page-hero"},p={class:"container py-0"},T={class:"row"},E={class:"col-lg-8 col-md-7 order-1 order-md-0 ebook-details-info"},x={class:"ebook-d-first"},U={key:0,class:"ebook-new-page-badge"},A={class:"get-know-list"},C=["innerHTML"],M={class:"col-lg-4 col-md-5 mb-5 mb-lg-0"},D={class:"ebook-page-image-canvas"},N={key:0},S=["src","alt"],F=["src","alt"],V={class:"ebook-slide-wrap"},Y=["onClick"],B=e("div",{class:"ebook-gallery-title"},[e("h3",{class:"form-title"},"Get the ebook"),e("p",{class:"form-desc"},"Enter your details and get the ebook in your email")],-1),L={class:"button-primary ebook-subscribe-btn",type:"submit"},q={key:0},z={key:1},H=e("div",{class:"spinner-border",style:{width:"20px",height:"20px"},role:"status"},null,-1),Z=[H],G={key:0,class:"ebook-send-success"};function J(l,a,o,K,t,u){return s(),i("div",w,[e("div",p,[e("div",T,[e("div",E,[e("div",x,[o.ebook.is_new?(s(),i("div",U,"New release")):c("",!0),e("h1",null,m(o.ebook.name),1),e("p",null,m(o.ebook.description),1)]),e("div",null,[e("h2",null,m(o.ebook.content_desc),1),e("ul",A,[(s(!0),i(h,null,k(o.ebook.features,(n,r)=>(s(),i("li",{key:"feature-"+r,innerHTML:n},null,8,C))),128))])])]),e("div",M,[e("div",null,[e("div",D,[o.ebook.images&&t.current!=null?(s(),i("div",N,[e("img",{class:d(t.current===0?"active":""),src:"/ebooks/"+o.ebook.images[0],alt:o.ebook.name},null,10,S),e("img",{class:d(t.current===1?"active":""),src:"/ebooks/"+o.ebook.images[1],alt:o.ebook.name},null,10,F)])):c("",!0)]),e("div",V,[(s(!0),i(h,null,k(o.ebook.images,(n,r)=>(s(),i("div",{class:"ebook-slide-item",key:""+r,onClick:O=>u.startAnimation(r)},[e("div",{class:d(["ebook-slide-item-inside",r===t.current?"active":""])},null,2)],8,Y))),128))])]),B,e("form",{onSubmit:a[2]||(a[2]=g(n=>u.sendEbookToUser(),["prevent"])),class:"get-ebook-actions ebook-subscribe-form"},[_(e("input",{required:"",type:"text","onUpdate:modelValue":a[0]||(a[0]=n=>t.form.full_name=n),name:"fullname",placeholder:"Full Name"},null,512),[[f,t.form.full_name]]),_(e("input",{required:"",type:"email","onUpdate:modelValue":a[1]||(a[1]=n=>t.form.email=n),name:"email",placeholder:"Your e-mail address"},null,512),[[f,t.form.email]]),e("button",L,[t.loading?(s(),i("div",z,Z)):(s(),i("div",q," Send e-mail "))]),t.success?(s(),i("div",G," Ebook Sent Your Email Address ")):c("",!0)],32)])])])])}const I=v(y,[["render",J]]);export{I as E};
