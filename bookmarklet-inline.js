javascript:(function(){if(!window.location.hostname.includes('instagram.com')){alert('‚ö†Ô∏è –ü—Ä–∞—Ü—é—î —Ç—ñ–ª—å–∫–∏ –Ω–∞ Instagram!');return;}function e(){const c=[],s=new Set();['ul ul li','div[role="button"] > div','article ul li'].forEach(sel=>{document.querySelectorAll(sel).forEach(el=>{try{const u=el.querySelector('a[href*="/"]');const username=u?u.innerText.trim().replace('@',''):null;if(!username||username.length>30||username.length<2)return;const spans=el.querySelectorAll('span');let text='';for(const span of spans){const t=(span.innerText||span.textContent||'').trim();if(t&&t!==username&&t.length>0&&t.length<2000){text=t;break;}}const k=`${username}:${text}`;if(s.has(k))return;s.add(k);c.push({username,text,avatar:username[0].toUpperCase(),hasTags:/@\w+/.test(text)});}catch(err){}});});return c;}const comments=e();if(comments.length===0){alert('‚ùå –ö–æ–º–µ–Ω—Ç–∞—Ä—ñ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω—ñ!\n\n1. –ü—Ä–æ–∫—Ä—É—Ç—ñ—Ç—å –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ\n2. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å "–ü–æ–∫–∞–∑–∞—Ç–∏ –±—ñ–ª—å—à–µ"\n3. –°–ø—Ä–æ–±—É–π—Ç–µ –∑–Ω–æ–≤—É');return;}const old=document.getElementById('ig-picker-panel');if(old)old.remove();const p=document.createElement('div');p.id='ig-picker-panel';p.innerHTML=`<style>#ig-picker-panel{position:fixed;top:20px;right:20px;width:400px;max-height:80vh;background:#fff;border-radius:16px;box-shadow:0 8px 32px rgba(0,0,0,0.3);z-index:999999;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif;overflow:hidden;color:#1a1a1a;}#ig-picker-header{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:white;padding:20px;display:flex;justify-content:space-between;align-items:center;}#ig-picker-close{background:rgba(255,255,255,0.2);border:none;color:white;width:32px;height:32px;border-radius:50%;cursor:pointer;font-size:20px;}#ig-picker-body{padding:20px;max-height:calc(80vh - 140px);overflow-y:auto;}.ig-stat{display:flex;justify-content:space-between;padding:12px;background:#f8f9fa;border-radius:8px;margin-bottom:8px;}.ig-stat-value{font-weight:700;color:#667eea;font-size:20px;}.ig-filter{margin:16px 0;display:flex;align-items:center;gap:8px;}.ig-btn{width:100%;padding:16px;border:none;border-radius:8px;font-weight:700;font-size:16px;cursor:pointer;margin-top:16px;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:white;}.ig-winner{text-align:center;padding:24px;background:linear-gradient(135deg,rgba(102,126,234,0.1) 0%,rgba(118,75,162,0.1) 100%);border-radius:12px;margin:16px 0;}.ig-winner-avatar{width:80px;height:80px;border-radius:50%;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:white;display:flex;align-items:center;justify-content:center;font-size:36px;font-weight:700;margin:0 auto 16px;}.ig-winner-username{font-size:24px;font-weight:700;color:#667eea;margin-bottom:8px;}</style><div id="ig-picker-header"><div><div style="font-size:18px;font-weight:700;">üéâ Comment Picker</div><div style="font-size:12px;opacity:0.9;">Instagram Giveaway</div></div><button id="ig-picker-close">√ó</button></div><div id="ig-picker-body"><div class="ig-stat"><span>–í—Å—å–æ–≥–æ:</span><span class="ig-stat-value" id="ig-total">0</span></div><div class="ig-stat"><span>–£–Ω—ñ–∫–∞–ª—å–Ω–∏—Ö:</span><span class="ig-stat-value" id="ig-unique">0</span></div><div style="margin:20px 0;"><strong>‚öôÔ∏è –§—ñ–ª—å—Ç—Ä–∏:</strong><label class="ig-filter"><input type="checkbox" id="ig-filter-duplicates" checked><span>–í–∏–¥–∞–ª–∏—Ç–∏ –¥—É–±–ª—ñ–∫–∞—Ç–∏</span></label><label class="ig-filter"><input type="checkbox" id="ig-filter-tags"><span>–¢—ñ–ª—å–∫–∏ –∑ —Ç–µ–≥–∞–º–∏ (@...)</span></label></div><div id="ig-comments-list"></div><div id="ig-winner-container"></div><button class="ig-btn" id="ig-select-winner">üé≤ –í–ò–ë–†–ê–¢–ò –ü–ï–†–ï–ú–û–ñ–¶–Ø</button></div>`;document.body.appendChild(p);let all=comments,filtered=[];const totalEl=document.getElementById('ig-total'),uniqueEl=document.getElementById('ig-unique'),listEl=document.getElementById('ig-comments-list'),winnerContainer=document.getElementById('ig-winner-container'),filterDup=document.getElementById('ig-filter-duplicates'),filterTag=document.getElementById('ig-filter-tags'),selectBtn=document.getElementById('ig-select-winner'),closeBtn=document.getElementById('ig-picker-close');function applyFilters(){filtered=[...all];if(filterDup.checked){const seen=new Set();filtered=filtered.filter(c=>{if(seen.has(c.username))return false;seen.add(c.username);return true;});}if(filterTag.checked){filtered=filtered.filter(c=>c.hasTags);}updateUI();}function updateUI(){totalEl.textContent=all.length;uniqueEl.textContent=new Set(all.map(c=>c.username)).size;listEl.innerHTML=`<div style="font-size:13px;color:#666;margin-bottom:8px;">–ü—ñ—Å–ª—è —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—ó: <strong>${filtered.length}</strong></div>`+filtered.slice(0,5).map(c=>`<div style="padding:12px;background:#f8f9fa;border-radius:8px;margin:8px 0;"><div style="font-weight:600;color:#667eea;">@${c.username}</div><div style="color:#666;font-size:13px;">${c.text.substring(0,80)}${c.text.length>80?'...':''}</div></div>`).join('')+(filtered.length>5?`<div style="text-align:center;color:#999;font-size:13px;">...—ñ —â–µ ${filtered.length-5}</div>`:'');}selectBtn.addEventListener('click',()=>{if(filtered.length===0){alert('‚ùå –ù–µ–º–∞—î —É—á–∞—Å–Ω–∏–∫—ñ–≤!');return;}const w=filtered[Math.floor(Math.random()*filtered.length)];winnerContainer.innerHTML=`<div class="ig-winner"><div class="ig-winner-avatar">${w.avatar}</div><div class="ig-winner-username">@${w.username}</div><div style="color:#666;font-size:14px;">${w.text}</div></div>`;for(let i=0;i<30;i++){setTimeout(()=>{const cf=document.createElement('div');cf.style.cssText=`position:fixed;width:10px;height:10px;background:${['#667eea','#764ba2','#48bb78'][Math.floor(Math.random()*3)]};top:100px;left:${Math.random()*window.innerWidth}px;z-index:9999999;animation:cfFall 3s ease-out forwards;pointer-events:none;`;document.body.appendChild(cf);setTimeout(()=>cf.remove(),3000);},i*30);}if(!document.getElementById('cf-anim')){const st=document.createElement('style');st.id='cf-anim';st.textContent='@keyframes cfFall{to{transform:translateY('+window.innerHeight+'px) rotate(360deg);opacity:0;}}';document.head.appendChild(st);}});filterDup.addEventListener('change',applyFilters);filterTag.addEventListener('change',applyFilters);closeBtn.addEventListener('click',()=>p.remove());applyFilters();})();

